window.__require=function t(i,e,s){function n(h,a){if(!e[h]){if(!i[h]){var r=h.split("/");if(r=r[r.length-1],!i[r]){var c="function"==typeof __require&&__require;if(!a&&c)return c(r,!0);if(o)return o(r,!0);throw new Error("Cannot find module '"+h+"'")}}var l=e[h]={exports:{}};i[h][0].call(l.exports,function(t){return n(i[h][1][t]||t)},l,l.exports,t,i,e,s)}return e[h].exports}for(var o="function"==typeof __require&&__require,h=0;h<s.length;h++)n(s[h]);return n}({CameraController:[function(t,i,e){"use strict";cc._RF.push(i,"6f540XdmT1FsZyK2sToaQEY","CameraController"),cc.Class({extends:cc.Component,properties:{speedZoom:.05,speedCamera:50,zoomTarget:2,xTarget:-250,yTarget:-210,isZoom:!1,camera:cc.Camera},start:function(){},update:function(t){this.zoomIn(t)},zoomIn:function(t){this.isZoom&&(this.camera.zoomRatio<this.zoomTarget&&(this.camera.zoomRatio+=this.speedZoom*t),this.node.x>this.xTarget&&(this.node.x-=this.speedCamera*t),this.node.y>this.yTarget&&(this.node.y-=this.speedCamera*t))}}),cc._RF.pop()},{}],CarController:[function(t,i,e){"use strict";cc._RF.push(i,"2b525ZTlDhCOYHpLWbAXkl1","CarController"),cc.Class({extends:t("CarManager"),properties:{timeSpawn:0,arr:[],isRunAnimation:!1,isRun:!1,isLeft:{default:!1,serializable:!0},xDefault:0,yDefault:0,scaleXDefault:0,scaleYDefault:0,speedDefault:{default:5,serializable:!0},speedZoomDefault:{default:.05,serializable:!0},speed:{default:5,serializable:!0},speedZoom:{default:.05,serializable:!0},light:cc.Node,chicken:cc.Node},onLoad:function(){this.xDefault=this.node.x,this.yDefault=this.node.y,this.scaleXDefault=this.node.scaleX,this.scaleYDefault=this.node.scaleY},start:function(){this._light=this.light.getComponent("TrafficLightController"),this._chicken=this.chicken.getComponent("ChickenController")},update:function(t){this.disableCar(),this.stop(t),this.hurtChicken()},runCar:function(t){this.arr=this.carMoving(t,this.speed,this.speedZoom,this.node.x,this.node.y,this.node.scaleX,this.node.scaleY,this.isLeft),this.speed=this.arr[0],this.speedZoom=this.arr[1],this.node.x=this.arr[2],this.node.y=this.arr[3],this.node.scaleX=this.arr[4],this.node.scaleY=this.arr[5]},spawnCar:function(){this.speed=this.speedDefault,this.speedZoom=this.speedZoomDefault,this.node.x=this.xDefault,this.node.y=this.yDefault,this.node.scaleX=this.scaleXDefault,this.node.scaleY=this.scaleYDefault},stop:function(t){(this.node.y>=-65&&this.node.y<=-64||this.node.y>=91&&this.node.y<=92)&&this._light.isRedLight?cc.log("dung"):this.runCar(t)},disableCar:function(){this.node.y<-500&&(this.node.active=!1)},hurtChicken:function(){Math.abs(this._chicken.node.x-this.node.x)<=50&&Math.abs(this._chicken.node.y-this.node.y)<=10&&(this._chicken.isDeath=!0)},runAnimation:function(){this.isRunAnimation||(this.audio.play(),this.anim.play("CarRun"),this.isRunAnimation=!0)}}),cc._RF.pop()},{CarManager:"CarManager"}],CarManager:[function(t,i,e){"use strict";cc._RF.push(i,"5ffdenY95RHf7PFXo2hQpFv","CarManager"),cc.Class({extends:cc.Component,properties:{arr:[],car:[cc.Node],carController:[]},start:function(){var t=this;this.car.forEach(function(i){t.carController.push(i.getComponent("CarController"))})},update:function(t){this.carController.forEach(function(i){!i.node.active&&i.timeSpawn<=0&&(i.timeSpawn=Math.floor(10*Math.random())+1),i.node.active||(i.timeSpawn-=t,i.timeSpawn<=0&&(i.node.active=!0,i.spawnCar(),i.timeSpawn=0))})},carMoving:function(t,i,e,s,n,o,h,a){return n>=-40?(i+=t/1e4,o+=.1*(e+=e*t)*t,h+=.1*e*t,a?(s-=i*t,n-=i*t):(s+=i*t,n-=i*t)):(i+=1*t,o+=2*e*t,h+=2*e*t,a?(s-=15*i*t,n-=20*i*t):(s+=15*i*t,n-=20*i*t)),this.arr=[i,e,s,n,o,h]}}),cc._RF.pop()},{}],ChickenController:[function(t,i,e){"use strict";cc._RF.push(i,"ab0afaXqFdJErPFZoRPEZ0T","ChickenController"),cc.Class({extends:cc.Component,properties:{_isPressLeft:!1,_isPressRight:!1,isStart:!1,isWalk:!1,isAnimationOn:!1,isDeath:!1,isIdle:!1,speed:50,button:cc.Node,anim:cc.Animation,audio1:cc.AudioSource,audio2:cc.AudioSource},onLoad:function(){cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this)},onKeyDown:function(t){switch(t.keyCode){case cc.macro.KEY.left:this._isPressLeft=!0;break;case cc.macro.KEY.right:this._isPressRight=!0}},onKeyUp:function(t){switch(t.keyCode){case cc.macro.KEY.left:this._isPressLeft=!1;break;case cc.macro.KEY.right:this._isPressRight=!1}},start:function(){this.setIdle(),this.anim=this.getComponent(cc.Animation),this.audio=this.getComponent(cc.AudioSource)},update:function(t){this.isDeath?this.death():this.isStart&&this.moving(t)},moving:function(t){this._isPressLeft?(this.node.x-=this.speed*t,this.flip(!1),this.isAnimationOn||(this.anim.stop("ChickenIdle"),this.anim.play("ChickenRun"),this.isAnimationOn=!0,this.isIdle=!0)):this._isPressRight?(this.node.x+=this.speed*t,this.flip(!0),this.isAnimationOn||(this.anim.stop("ChickenIdle"),this.anim.play("ChickenRun"),this.isAnimationOn=!0,this.isIdle=!0)):this.isAnimationOn&&(this.anim.stop("ChickenRun"),this.setIdle(),this.isAnimationOn=!1)},death:function(){this.anim.stop("ChickenRun"),this.anim.play("ChickenDeath"),this.audio2.play(),this.audio1.play(),this.isDeath=!1},setIdle:function(){this.anim.play("ChickenIdle")},flip:function(t){this.node.scaleX=t?1:-1},startGame:function(){this.isStart=!0,this.button.active=!1}}),cc._RF.pop()},{}],GameManager:[function(t,i,e){"use strict";cc._RF.push(i,"bd847PMGHZB0r34kAq3ygL0","GameManager"),cc.Class({extends:cc.Component,properties:{xChicken:0,yChicken:0,xCar:0,yCar:0,isRunGame:!1,chicken:cc.Node,camera:cc.Node,light:cc.Node,car:{default:[],type:[cc.Node]},_car:{default:[],type:[cc.Component]}},start:function(){var t=this;this._light=this.light.getComponent("TrafficLightController"),this.car.forEach(function(i){t._car.push(i.getComponent("CarController"))})},update:function(t){}}),cc._RF.pop()},{}],TrafficLightController:[function(t,i,e){"use strict";cc._RF.push(i,"da9e7RLO8ZH9YQdvxf4N46h","TrafficLightController"),cc.Class({extends:cc.Component,properties:{isRedLight:!1,isYellowLight:!1,isGreenLight:!1,_time:0,_countLabel:0,timeRedLight:{default:5,serializable:!0,toolTip:"Time red light on"},timeYellowLight:{default:2,serializable:!0,toolTip:"Time yellow light on"},timeGreenLight:{default:5,serializable:!0,toolTip:"Time green light on"},ani:cc.Animation},onLoad:function(){},start:function(){},update:function(t){!this.isGreenLight&&this._time<this.timeGreenLight?(this.turnOnGreenLight(),this.isGreenLight=!0,this.isRedLight=!1):!this.isYellowLight&&this._time>=this.timeGreenLight&&this._time<this.timeGreenLight+this.timeYellowLight?(this.turnOnYellowLight(),this.isYellowLight=!0,this.isGreenLight=!1):!this.isRedLight&&this._time>=this.timeGreenLight+this.timeYellowLight&&this._time<this.timeGreenLight+this.timeRedLight+this.timeYellowLight?(this.turnOnRedLight(),this.isRedLight=!0,this.isYellowLight=!1):this._time>=this.timeGreenLight+this.timeRedLight+this.timeYellowLight&&(this._time=0),this._time+=t},turnOnRedLight:function(){this.ani.play("onRedLight"),this.ani.stop("onGreenLight"),this.ani.stop("onYellowLight")},turnOnYellowLight:function(){this.ani.play("onYellowLight"),this.ani.stop("onRedLight")},turnOnGreenLight:function(){this.ani.play("onGreenLight"),this.ani.stop("onRedLight"),this.ani.stop("onYellowLight")}}),cc._RF.pop()},{}]},{},["CameraController","CarController","CarManager","ChickenController","GameManager","TrafficLightController"]);